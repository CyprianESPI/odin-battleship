(()=>{"use strict";var e={28:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(81),i=r.n(n),s=r(645),a=r.n(s)()(i());a.push([e.id,"* {\n    margin: 0;\n    padding: 0;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n/*border: 2px solid red;*/\n\nbody {\n    display: grid;\n    height: 100vh;\n    grid-template-rows: auto 1fr;\n    text-align: center;\n}\n\nmain {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n}\n\n.player-container {\n    display: grid;\n    grid-template-rows: auto 1fr;\n}\n\n.board-container {\n    display: grid;\n    grid-template-rows: auto 1fr auto;\n    grid-template-columns: auto 1fr auto;\n    aspect-ratio: 1;\n    width: fit-content;\n    background-color: black;\n    border: 20px solid gray;\n    border-radius: 20px;\n}\n\n.numbers,\n.letters {\n    display: flex;\n    justify-content: space-around;\n    color: green;\n}\n\n.letters {\n    flex-flow: column;\n}\n\n.board {\n    border: 5px solid green;\n    display: grid;\n    grid-template-rows: repeat(10, 1fr);\n    grid-template-columns: repeat(10, 1fr);\n    gap: 10px;\n    padding: 10px;\n}\n\n.cell {\n    border: 2px solid green;\n}\n\n.clickable {\n    cursor: crosshair;\n}\n\n.clickable:hover {\n    background-color: green;\n}\n\n.water {\n    background-color: blue;\n}\n\n.water-hit {\n    background-color: purple;\n}\n\n.ship {\n    background-color: gray;\n}\n\n#board-human {\n    filter: brightness(0.50);\n}\n\n/* Hide computer's ships */\n/*\n#board-computer>.ship {\n    background-color: blue;\n}\n*/\n\n.ship-hit {\n    background-color: red;\n}",""]);const o=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var h=[].concat(e[c]);n&&a[h[0]]||(void 0!==s&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=s),r&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=r):h[2]=r),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),t.push(h))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var s={},a=[],o=0;o<e.length;o++){var l=e[o],c=n.base?l[0]+n.base:l[0],h=s[c]||0,d="".concat(c," ").concat(h);s[c]=h+1;var u=r(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var m=i(p,n);n.byIndex=o,t.splice(o,0,{identifier:d,updater:m,references:1})}a.push(d)}return a}function i(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,i){var s=n(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<s.length;a++){var o=r(s[a]);t[o].references--}for(var l=n(e,i),c=0;c<s.length;c++){var h=r(s[c]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}s=l}}},569:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var s=r.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={id:n,exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0,(()=>{const e=class{static removeContent(e){if(null===e|void 0===e)console.error("Utils.removeContent, elem is",e);else for(;e.firstChild;)e.firstChild.remove()}static isEmpty(e){return 0===Object.keys(e).length}static removeIndexFromArray(e,t){t>-1&&e.splice(t,1)}static removeObjFromArray(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}};class t{static CellStatus={water:0,waterHit:1,ship:2,shipHit:3};constructor(e){this.ships=[],this.size=e,this.grid=[],this.enabled=!1;for(let r=0;r<e;r++){const r=[];for(let n=0;n<e;n++)r.push(t.CellStatus.water);this.grid.push(r)}}placeShip(e,r,n){const i=[];for(let s=0;s<e.length;s++){const e=r[1]+s*n[1],a=r[0]+s*n[0];if(e<0||e>=this.size||a<0||a>=this.size)return!1;if(this.grid[e][a]==t.CellStatus.ship)return!1;if(e+1<this.size&&this.grid[e+1][a]==t.CellStatus.ship||e-1>=0&&this.grid[e-1][a]==t.CellStatus.ship||a+1<this.size&&this.grid[e][a+1]==t.CellStatus.ship||a-1>=0&&this.grid[e][a-1]==t.CellStatus.ship)return!1;if(e+1<this.size&&a+1<this.size&&this.grid[e+1][a+1]==t.CellStatus.ship||e+1<this.size&&a-1>=0&&this.grid[e+1][a-1]==t.CellStatus.ship||e-1>=0&&a+1<this.size&&this.grid[e-1][a+1]==t.CellStatus.ship||e-1>=0&&a+1<this.size&&this.grid[e-1][a-1]==t.CellStatus.ship)return!1;i.push([e,a])}for(let e of i)this.grid[e[0]][e[1]]=t.CellStatus.ship;return e.shipCoordinates=i,this.ships.push(e),!0}receiveAttack(e){const r=e[0],n=e[1];for(let e of this.ships)for(let i of e.shipCoordinates)if(r==i[0]&&n==i[1])return e.hit(),this.grid[r][n]=t.CellStatus.shipHit,!0;return this.grid[r][n]=t.CellStatus.waterHit,!1}gameOver(){for(let e of this.ships)if(!e.isSunk())return!1;return!0}setEnabled(e){this.enabled=e}render(r,n){e.removeContent(r);for(let e=0;e<this.size;e++)for(let i=0;i<this.size;i++){const s=document.createElement("div");this.grid[e][i]===t.CellStatus.water?(s.className="cell water",this.enabled&&(s.className+=" clickable",s.addEventListener("click",(t=>{console.log(`Firing at ${e}, ${i}`),n.play([e,i])})))):this.grid[e][i]===t.CellStatus.waterHit?s.className="cell water-hit":this.grid[e][i]===t.CellStatus.ship?(s.className="cell ship",this.enabled&&(s.className+=" clickable",s.addEventListener("click",(t=>{console.log(`Firing at ${e}, ${i}`),n.play([e,i])})))):this.grid[e][i]===t.CellStatus.shipHit&&(s.className="cell ship-hit"),r.appendChild(s)}}}const n=t,i=class{constructor(e,t){this.length=e,this.name=void 0===t?"undefined":t,this.hits=0}hit(){this.hits++}isSunk(){return this.hits>=this.length}};class s{static boardSize=10;constructor(e){this.name=e,this.board=new n(s.boardSize),this.ships=[new i(2,"corvette"),new i(3,"submarine"),new i(3,"destroyer"),new i(4,"cruiser"),new i(5,"aircraft")],this.plays=[],this.remainingPlays=[];for(let e=0;e<s.boardSize;e++)for(let t=0;t<s.boardSize;t++)this.remainingPlays.push([e,t]);for(var t=this.remainingPlays.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),a=this.remainingPlays[t];this.remainingPlays[t]=this.remainingPlays[r],this.remainingPlays[r]=a}}play(t,r){return this.plays.push(r),e.removeObjFromArray(this.remainingPlays,r),t.board.receiveAttack(r)}playRandom(e){const t=this.remainingPlays.pop();return this.play(e,t)}shuffleShips(){const e=[[1,0],[0,1]];for(let t of this.ships){let r=Math.floor(Math.random()*(s.boardSize-1)),n=Math.floor(Math.random()*(s.boardSize-1)),i=Math.random()>=.5?e[0]:e[1];for(;!this.board.placeShip(t,[r,n],i);)r=Math.floor(Math.random()*(s.boardSize-1)),n=Math.floor(Math.random()*(s.boardSize-1)),i=Math.random()>=.5?e[0]:e[1]}console.log(this.board.ships)}}const a=s,o=class{constructor(e,t){this.humanBoard=e,this.computerBoard=t,this.newGame()}newGame(){this.human=new a("You"),this.computer=new a("CPU"),this.players=[this.human,this.computer];for(let e of this.players)e.shuffleShips();this.computer.board.setEnabled(!0),this.render()}play(e){this.human.play(this.computer,e),this.computer.playRandom(this.human),this.render(),this.computer.board.gameOver()?(alert("You win!\nPlay again?"),this.newGame()):this.human.board.gameOver()&&(alert("You lose...\nPlay again?"),this.newGame())}render(){this.human.board.render(this.humanBoard,this),this.computer.board.render(this.computerBoard,this)}};var l=r(379),c=r.n(l),h=r(795),d=r.n(h),u=r(569),p=r.n(u),m=r(565),f=r.n(m),g=r(216),v=r.n(g),b=r(589),y=r.n(b),S=r(28),w={};w.styleTagTransform=y(),w.setAttributes=f(),w.insert=p().bind(null,"head"),w.domAPI=d(),w.insertStyleElement=v(),c()(S.Z,w),S.Z&&S.Z.locals&&S.Z.locals,function(){console.log("Initializing...");const e=new URLSearchParams(document.location.search);console.log(e);const t=document.getElementById("board-human"),r=document.getElementById("board-computer");new o(t,r),console.log("Initialized!")}()})()})();