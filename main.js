(()=>{"use strict";var e={28:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(81),s=n.n(r),i=n(645),a=n.n(i)()(s());a.push([e.id,":root {\n    /* https://m1.material.io/style/color.html#color-color-palette */\n    /* Blue */\n    --clr-primary-50: #E3F2FD;\n    --clr-primary-100: #BBDEFB;\n    --clr-primary-200: #90CAF9;\n    --clr-primary-300: #64B5F6;\n    --clr-primary-400: #42A5F5;\n    --clr-primary-500: #2196F3;\n    --clr-primary-600: #1E88E5;\n    --clr-primary-700: #1976D2;\n    --clr-primary-800: #1565C0;\n    --clr-primary-900: #0D47A1;\n\n    /* Red */\n    --clr-A100: #FF8A80;\n    --clr-A200: #FF5252;\n    --clr-A400: #FF1744;\n    --clr-A700: #D50000;\n\n    --br: 15px;\n}\n\n* {\n    margin: 0;\n    padding: 0;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n/*border: 2px solid red;*/\n\nbody {\n    display: grid;\n    height: 100vh;\n    grid-template-rows: auto 1fr;\n    text-align: center;\n}\n\nheader {\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 5% 10px 5%;\n    background-color: var(--clr-primary-300);\n}\n\nmain {\n    display: grid;\n    grid-auto-flow: column;\n}\n\n/* Responsive for mobile */\n@media only screen and (max-width: 1026px) {\n    main {\n        grid-auto-flow: row;\n    }\n\n    h1 {\n        font-size: medium;\n    }\n\n    h2 {\n        font-size: small;\n    }\n\n    .move-btn {\n        font-size: 15px;\n        width: 15px;\n    }\n}\n\nbutton {\n    border: none;\n    background-color: var(--clr-primary-900);\n    color: white;\n}\n\nbutton.enabled {\n    cursor: pointer;\n}\n\n.disabled {\n    filter: brightness(0.666);\n    pointer-events: none;\n}\n\n.rounded-btn {\n    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n    display: flex;\n    justify-content: space-evenly;\n    align-items: center;\n    width: 6rem;\n    height: 3rem;\n    border-radius: 3rem;\n}\n\n.move-btn {\n    text-shadow: 0 0 10px #000;\n    border-radius: 50%;\n    box-shadow: none;\n    background: none;\n    margin-top: -5cqh;\n    margin-left: -5cqh;\n    width: 10cqh;\n    height: 10cqh;\n    font-size: 10cqh;\n}\n\n@media (hover:hover) {\n    button.enabled:hover {\n        filter: brightness(1.50);\n        transform: scale(1.15);\n        text-shadow: 0 0 20px #000;\n    }\n}\n\n.hidden {\n    display: none;\n}\n\n/* card like container */\n.player-container {\n    display: grid;\n    grid-template-rows: auto 1fr;\n    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n    margin: 10px 5% auto 5%;\n    border-radius: var(--br);\n}\n\n.board-container {\n    margin: 10px;\n    display: grid;\n    grid-template-rows: auto 1fr;\n    grid-template-columns: auto 1fr;\n    aspect-ratio: 1;\n}\n\n.numbers,\n.letters {\n    display: flex;\n    justify-content: space-around;\n}\n\n.letters {\n    flex-flow: column;\n}\n\n/* Overlay 2 grids on top of another */\n.board-stack {\n    display: grid;\n    grid-template-rows: 1fr;\n    grid-template-columns: 1fr;\n}\n\n.blurred {\n    filter: blur(10.0rem);\n}\n\n.board-stack.disabled {\n\n    /* Ensure overlays are disabled too */\n    * {\n        pointer-events: none;\n    }\n}\n\n/* set childs on same grid area to ensure they overlap */\n.board-stack>* {\n    grid-column: 1;\n    grid-row: 1;\n}\n\n.overlay {\n    container-type: size;\n    position: relative;\n    display: grid;\n    grid-template-rows: 1fr;\n    grid-template-columns: 1fr;\n    pointer-events: none;\n}\n\n.overlay>* {\n    pointer-events: all;\n    position: absolute;\n    grid-column: 1;\n    grid-row: 1;\n}\n\n.ship-overlay {\n    background-color: gray;\n    opacity: 0.5;\n    border-radius: 100px;\n}\n\n.ship-overlay.damaged {\n    filter: brightness(0.666);\n}\n\n.ship-overlay.sunk {\n    filter: brightness(0);\n}\n\n.board {\n    display: grid;\n    grid-template-rows: repeat(10, 1fr);\n    grid-template-columns: repeat(10, 1fr);\n    gap: 5px;\n    padding: 5px;\n}\n\n.cell {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.dot {\n    border-radius: 50%;\n    width: 33%;\n    height: 33%;\n}\n\n.clickable {\n    cursor: crosshair;\n}\n\n.clickable:hover {\n    filter: brightness(0.50);\n}\n\n.water,\n.ship {\n    background-color: var(--clr-primary-300);\n}\n\n.empty>* {\n    background-color: transparent;\n    border: 5px solid var(--clr-primary-900);\n}\n\n.miss>* {\n    background-color: var(--clr-primary-900);\n}\n\n.hit>* {\n    background-color: var(--clr-A400);\n}\n\n/* Hide computer's ships */\n.board-hidden>:first-child>* {\n    background-color: var(--clr-primary-300);\n}\n\n/* Hide computer's ships overlay */\n.board-hidden>:nth-child(2) {\n    :not(.sunk) {\n        display: none;\n    }\n}\n\n#oponent>h2 {\n    background-color: var(--clr-A700);\n    color: white;\n    border-radius: var(--br) var(--br) 0 0;\n    padding: 5px;\n}\n\n#you>h2 {\n    background-color: var(--clr-primary-900);\n    color: white;\n    border-radius: var(--br) var(--br) 0 0;\n    padding: 5px;\n}\n\n\ndialog {\n    /* Center its content */\n    align-items: center;\n\n    /* Cannot give a display value otherwise the dialog is always visible */\n\n    padding: var(--br);\n    border-radius: var(--br);\n\n    /* Center the dialog in the middle of the page*/\n    top: 50%;\n    left: 50%;\n    -webkit-transform: translateX(-50%) translateY(-50%);\n    -moz-transform: translateX(-50%) translateY(-50%);\n    -ms-transform: translateX(-50%) translateY(-50%);\n    transform: translateX(-50%) translateY(-50%);\n\n    >* {\n        display: grid;\n        justify-items: center;\n        align-items: center;\n        gap: var(--br);\n        margin: var(--br);\n    }\n}\n\ninput {\n    border: 2px solid var(--clr-A100);\n    padding: 2px;\n}\n\n.shake {\n    /* Start the shake animation and make the animation last for 0.5 seconds */\n    animation: shake 0.5s;\n\n    /* When the animation is finished, start again */\n    animation-iteration-count: infinite;\n}\n\n@keyframes shake {\n    0% {\n        transform: translate(1px, 1px) rotate(0deg);\n    }\n\n    10% {\n        transform: translate(-1px, -2px) rotate(-1deg);\n    }\n\n    20% {\n        transform: translate(-3px, 0px) rotate(1deg);\n    }\n\n    30% {\n        transform: translate(3px, 2px) rotate(0deg);\n    }\n\n    40% {\n        transform: translate(1px, -1px) rotate(1deg);\n    }\n\n    50% {\n        transform: translate(-1px, 2px) rotate(-1deg);\n    }\n\n    60% {\n        transform: translate(-3px, 1px) rotate(0deg);\n    }\n\n    70% {\n        transform: translate(3px, 1px) rotate(-1deg);\n    }\n\n    80% {\n        transform: translate(-1px, -1px) rotate(1deg);\n    }\n\n    90% {\n        transform: translate(1px, 2px) rotate(0deg);\n    }\n\n    100% {\n        transform: translate(1px, -2px) rotate(-1deg);\n    }\n}",""]);const o=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,s,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var d=0;d<e.length;d++){var h=[].concat(e[d]);r&&a[h[0]]||(void 0!==i&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=i),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),s&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=s):h[4]="".concat(s)),t.push(h))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],o=0;o<e.length;o++){var l=e[o],d=r.base?l[0]+r.base:l[0],h=i[d]||0,c="".concat(d," ").concat(h);i[d]=h+1;var p=n(c),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(u);else{var m=s(u,r);r.byIndex=o,t.splice(o,0,{identifier:c,updater:m,references:1})}a.push(c)}return a}function s(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var i=r(e=e||[],s=s||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var o=n(i[a]);t[o].references--}for(var l=r(e,s),d=0;d<i.length;d++){var h=n(i[d]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}i=l}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,s&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{const e=class{static removeContent(e){if(null===e|void 0===e)console.error("Utils.removeContent, elem is",e);else for(;e.firstChild;)e.firstChild.remove()}static isEmpty(e){return 0===Object.keys(e).length}static removeIndexFromArray(e,t){t>-1&&e.splice(t,1)}static removeObjFromArray(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}};class t{static Direction={right:[0,1],left:[0,-1],up:[1,0],down:[-1,0]};static CellStatus={water:0,waterHit:1,ship:2,shipHit:3,waterEmpty:4};constructor(e){this.ships=[],this.size=e,this.grid=[],this.enabled=!1;for(let n=0;n<e;n++){const n=[];for(let r=0;r<e;r++)n.push(t.CellStatus.water);this.grid.push(n)}}isOutOfBounds(e,t){return e<0||e>=this.size||t<0||t>=this.size}getAdjcentCoords(e){const t=[];for(let n of e)t.push([n[0]+1,n[1]+1]),t.push([n[0]+1,n[1]+0]),t.push([n[0]+1,n[1]-1]),t.push([n[0]+0,n[1]+1]),t.push([n[0]+0,n[1]+0]),t.push([n[0]+0,n[1]-1]),t.push([n[0]-1,n[1]+1]),t.push([n[0]-1,n[1]+0]),t.push([n[0]-1,n[1]-1]);return t}isMoveAllowed(e,n){if(e.isDamaged())return!1;const r=[];for(let t of e.shipCoordinates){const e=t[0]+n[0],s=t[1]+n[1];if(e<0||e>=this.size||s<0||s>=this.size)return!1;r.push([e,s])}const s=[];for(let e of r)s.push([e[0]+1,e[1]+1]),s.push([e[0]+1,e[1]+0]),s.push([e[0]+1,e[1]-1]),s.push([e[0]+0,e[1]+1]),s.push([e[0]+0,e[1]+0]),s.push([e[0]+0,e[1]-1]),s.push([e[0]-1,e[1]+1]),s.push([e[0]-1,e[1]+0]),s.push([e[0]-1,e[1]-1]);for(let n of s)if(!(n[0]<0||n[0]>=this.size||n[1]<0||n[1]>=this.size)){if(this.grid[n[0]][n[1]]===t.CellStatus.ship||this.grid[n[0]][n[1]]===t.CellStatus.shipHit){if(e.shipCoordinates.find((e=>e[0]===n[0]&&e[1]===n[1])))continue;return!1}if(this.grid[n[0]][n[1]]===t.CellStatus.waterHit&&r.find((e=>this.grid[e[0]][e[1]]===t.CellStatus.waterHit)))return!1}return!0}moveShip(e,n){for(let r=0;r<e.shipCoordinates.length;r++)this.grid[e.shipCoordinates[r][0]][e.shipCoordinates[r][1]]=t.CellStatus.water,e.shipCoordinates[r][0]=e.shipCoordinates[r][0]+n[0],e.shipCoordinates[r][1]=e.shipCoordinates[r][1]+n[1];for(let n of e.shipCoordinates)this.grid[n[0]][n[1]]=t.CellStatus.ship}placeShip(e,n,r){const s=[];for(let i=0;i<e.length;i++){const e=n[1]+i*r[1],a=n[0]+i*r[0];if(this.isOutOfBounds(e,a))return!1;if(this.grid[e][a]==t.CellStatus.ship)return!1;if(e+1<this.size&&this.grid[e+1][a]==t.CellStatus.ship||e-1>=0&&this.grid[e-1][a]==t.CellStatus.ship||a+1<this.size&&this.grid[e][a+1]==t.CellStatus.ship||a-1>=0&&this.grid[e][a-1]==t.CellStatus.ship)return!1;if(e+1<this.size&&a+1<this.size&&this.grid[e+1][a+1]==t.CellStatus.ship||e+1<this.size&&a-1>=0&&this.grid[e+1][a-1]==t.CellStatus.ship||e-1>=0&&a+1<this.size&&this.grid[e-1][a+1]==t.CellStatus.ship||e-1>=0&&a+1<this.size&&this.grid[e-1][a-1]==t.CellStatus.ship)return!1;s.push([e,a])}for(let e of s)this.grid[e[0]][e[1]]=t.CellStatus.ship;return e.shipCoordinates=s,this.ships.push(e),!0}receiveAttack(e){let n=null,r=!1;const s=e[0],i=e[1];for(let e of this.ships){for(let a of e.shipCoordinates)if(s==a[0]&&i==a[1]){e.hit(),this.grid[s][i]=t.CellStatus.shipHit,r=!0,e.isSunk()&&(n=e);break}if(r)break}if(null!==n){const e=this.getAdjcentCoords(n.shipCoordinates);for(let n of e){const e=n[0],r=n[1];this.isOutOfBounds(e,r)||this.grid[e][r]===t.CellStatus.water&&(this.grid[e][r]=t.CellStatus.waterEmpty)}}return r||(this.grid[s][i]=t.CellStatus.waterHit),r}gameOver(){for(let e of this.ships)if(!e.isSunk())return!1;return!0}setEnabled(e){this.enabled=e}createMoveButton(e,n,r,s,i){const a=document.createElement("button");a.innerText="chevron_right";let o=[0,0];return e===t.Direction.right?(a.style.transform="rotate(0deg)",o=[0,1]):e===t.Direction.left?(a.style.transform="rotate(180deg)",o=[0,-1]):e===t.Direction.up?(a.style.transform="rotate(270deg)",o=[-1,0]):e===t.Direction.down&&(o=[1,0],a.style.transform="rotate(90deg)"),a.style.left=(n[0][1]+n[1][1])/2*10+10*o[1]+5+"%",a.style.top=(n[0][0]+n[1][0])/2*10+10*o[0]+5+"%",this.isMoveAllowed(i,o)?(a.className="material-symbols-outlined move-btn enabled",a.addEventListener("click",(e=>{this.moveShip(i,o),this.render(r,s)}))):a.className="material-symbols-outlined move-btn hidden",a}render(n,r){e.removeContent(n);const s=document.createElement("div");s.className="board";for(let e=0;e<this.size;e++)for(let n=0;n<this.size;n++){const i=document.createElement("div"),a=document.createElement("div");a.className="dot",this.grid[e][n]===t.CellStatus.water?(i.className="cell water",this.enabled&&(i.className+=" clickable",i.addEventListener("click",(t=>{console.log(`Firing at ${e}, ${n}`),r.play([e,n])})))):this.grid[e][n]===t.CellStatus.waterHit?(i.className="cell water miss",i.appendChild(a)):this.grid[e][n]===t.CellStatus.ship?(i.className="cell ship",this.enabled&&(i.className+=" clickable",i.addEventListener("click",(t=>{console.log(`Firing at ${e}, ${n}`),r.play([e,n])})))):this.grid[e][n]===t.CellStatus.shipHit?(i.className="cell ship hit",i.appendChild(a)):this.grid[e][n]===t.CellStatus.waterEmpty&&(i.className="cell water empty",i.appendChild(a)),s.appendChild(i)}n.appendChild(s);const i=document.createElement("div");i.className="overlay";for(let e of this.ships){const s=[e.shipCoordinates[0],e.shipCoordinates[e.shipCoordinates.length-1]],a=document.createElement("div");a.className="ship-overlay",a.className+=e.isSunk()?" sunk":"",a.className+=e.isDamaged()?" damaged":"";const o=2;a.style.left=`${10*s[0][1]+o}%`,a.style.top=`${10*s[0][0]+o}%`,a.style.height=10*Math.abs(s[1][0]-s[0][0]+1)-2*o+"%",a.style.width=10*Math.abs(s[1][1]-s[0][1]+1)-2*o+"%",i.appendChild(a),i.appendChild(this.createMoveButton(t.Direction.left,s,n,r,e)),i.appendChild(this.createMoveButton(t.Direction.right,s,n,r,e)),i.appendChild(this.createMoveButton(t.Direction.up,s,n,r,e)),i.appendChild(this.createMoveButton(t.Direction.down,s,n,r,e))}n.appendChild(i)}}const r=t,s=class{constructor(e,t){this.length=e,this.name=void 0===t?"undefined":t,this.hits=0}hit(){this.hits++}isSunk(){return this.hits>=this.length}isDamaged(){return this.hits>0}};class i{static boardSize=10;static peerConnectionConfig={iceServers:[{urls:"stun:stun.l.google.com:19302"}]};constructor(e,t){this.wins=t,this.name=e,this.board=new r(i.boardSize),this.ships=[new s(2,"corvette"),new s(3,"submarine"),new s(3,"destroyer"),new s(4,"cruiser"),new s(5,"aircraft")],this.plays=[],this.remainingPlays=[];for(let e=0;e<i.boardSize;e++)for(let t=0;t<i.boardSize;t++)this.remainingPlays.push([e,t]);for(var n=this.remainingPlays.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),o=this.remainingPlays[n];this.remainingPlays[n]=this.remainingPlays[a],this.remainingPlays[a]=o}}play(e,t){this.plays.push(t);const n=e.board.receiveAttack(t);for(let t=this.remainingPlays.length-1;t>=0;t--){const n=this.remainingPlays[t][0],s=this.remainingPlays[t][1];e.board.grid[n][s]!==r.CellStatus.waterHit&&e.board.grid[n][s]!==r.CellStatus.waterEmpty&&e.board.grid[n][s]!==r.CellStatus.shipHit||this.remainingPlays.splice(t,1)}return n&&e.board.gameOver()&&this.wins++,n}playRandom(e){const t=this.remainingPlays.pop(),n=this.play(e,t);if(n){let n,r=!1;for(let s=0;s<e.ships.length;s++){const i=e.ships[s];if(n=i.shipCoordinates.find((e=>e[0]===t[0]&&e[1]===t[1])),void 0!==n){n=i,r=i.shipCoordinates[0][0]===i.shipCoordinates[1][0];break}}if(void 0===n)return void console.error("hitShip not found... Check oponent",e);const s=[];for(let e=this.remainingPlays.length-1;e>=0;e--){const i=this.remainingPlays[e][0],a=this.remainingPlays[e][1],o=1===Math.abs(i-t[0])&&0===Math.abs(a-t[1]),l=0===Math.abs(i-t[0])&&1===Math.abs(a-t[1]);(n.hits<2&&(o||l)||o&&!r||l&&r)&&(this.remainingPlays.splice(e,1),s.push([i,a]))}s.forEach((e=>{this.remainingPlays.push(e)}))}return n}shuffleShips(){const e=[[1,0],[0,1]];for(let t of this.ships){let n=Math.floor(Math.random()*(i.boardSize-1)),r=Math.floor(Math.random()*(i.boardSize-1)),s=Math.random()>=.5?e[0]:e[1];for(;!this.board.placeShip(t,[n,r],s);)n=Math.floor(Math.random()*(i.boardSize-1)),r=Math.floor(Math.random()*(i.boardSize-1)),s=Math.random()>=.5?e[0]:e[1]}console.log(this.board.ships)}}const a=i;class o{static Type={solo:0,multiLocal:1,multiOnline:2};constructor(e,t){this.p1Board=e,this.p2Board=t,this.type=o.Type.solo}newGame(e,t,n,r,s){this.type=e,this.p1=new a(t,n),e===o.Type.solo?this.p2=new a("CPU",s):this.p2=new a(r,s),this.players=[this.p1,this.p2],this.currentPlayer=this.p1;for(let e of this.players)e.shuffleShips();this.p2.board.setEnabled(!0),this.render()}switchPlayer(){for(let e of this.players)e.board.setEnabled(!e.board.enabled);this.currentPlayer=this.currentPlayer===this.p1?this.p2:this.p1,this.render(),setTimeout((()=>{this.p1Board.classList.add("blurred"),this.p2Board.classList.add("blurred"),setTimeout((()=>{alert("It's a miss! Press ok to swap"),this.currentPlayer===this.p1?(this.p1Board.classList.remove("board-hidden"),this.p2Board.classList.add("board-hidden")):(this.p1Board.classList.add("board-hidden"),this.p2Board.classList.remove("board-hidden")),this.p1Board.classList.remove("blurred"),this.p2Board.classList.remove("blurred")}),500)}),100)}computerPlay(){this.p1Board.classList.add("disabled"),this.p2Board.classList.add("disabled"),setTimeout((()=>{this.p2.playRandom(this.p1)?(this.shakeBoard(this.p1Board),this.checkGameOver(),this.computerPlay()):(this.p1Board.classList.remove("disabled"),this.p2Board.classList.remove("disabled")),this.render()}),500)}getOponent(){return this.currentPlayer===this.p1?this.p2:this.p1}getOponentBoard(){return this.currentPlayer===this.p1?this.p2Board:this.p1Board}shakeBoard(e){navigator.vibrate(200),e.classList.add("shake"),setTimeout((()=>{e.classList.remove("shake")}),200)}play(e){const t=this.getOponent(),n=this.getOponentBoard(),r=this.currentPlayer.play(t,e);if(this.render(),r)return this.shakeBoard(n),void this.checkGameOver();switch(this.type){case o.Type.multiLocal:this.switchPlayer();break;case o.Type.solo:this.computerPlay()}}checkGameOver(){const e=document.getElementById("dialog-game-over");if(this.p2.board.gameOver())document.getElementById("game-over-result").innerText="You win!";else{if(!this.p1.board.gameOver())return;document.getElementById("game-over-result").innerText="You lose..."}document.getElementById("game-over-name-cpu").innerText=this.p2.name,document.getElementById("game-over-name-you").innerText=this.p1.name,document.getElementById("game-over-score-cpu").innerText=this.p2.wins,document.getElementById("game-over-score-you").innerText=this.p1.wins,e.showModal()}render(){this.p1.board.render(this.p1Board,this),this.p2.board.render(this.p2Board,this)}}const l=o;var d=n(379),h=n.n(d),c=n(795),p=n.n(c),u=n(569),m=n.n(u),g=n(565),f=n.n(g),y=n(216),b=n.n(y),v=n(589),w=n.n(v),x=n(28),C={};C.styleTagTransform=w(),C.setAttributes=f(),C.insert=m().bind(null,"head"),C.domAPI=p(),C.insertStyleElement=b(),h()(x.Z,C),x.Z&&x.Z.locals&&x.Z.locals,function(){console.log("Initializing...");const e=document.getElementById("board-human"),t=document.getElementById("board-computer"),n=new l(e,t);let r=l.Type.solo;const s=new URLSearchParams(document.location.search);console.log(s);const i=s.get("p1"),a=s.get("p2");console.log(i),console.log(a),(null===i||""===i)&&document.getElementById("dialog-solo").showModal();const o=document.getElementById("add-p2-btn"),d=document.getElementById("remove-p2-btn");null===a||""===a?(o.addEventListener("click",(e=>{const t=document.getElementById("dialog-multi");document.getElementById("p1-multi").value=i,t.showModal()})),r=l.Type.solo):(o.classList.replace("enabled","disabled"),d.classList.replace("disabled","enabled"),d.addEventListener("click",(e=>{document.getElementById("p1-solo").value=i,document.getElementById("form-solo").submit()})),r=l.Type.multiLocal),n.newGame(r,i,0,a,0),document.getElementById("oponent-fleet-header").innerText=n.p2.name,document.getElementById("your-fleet-header").innerText=n.p1.name??"You",[document.getElementById("restart-btn-header"),document.getElementById("restart-btn-modal")].forEach((e=>e.addEventListener("click",(()=>{n.newGame(r,i,n.p1.wins,a,n.p2.wins),document.getElementById("dialog-game-over").close()})))),console.log("Initialized!")}()})()})();